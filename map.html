<!DOCTYPE html>
<html>
<head>

<script type="text/javascript">

var ctx = null;
var gameMap = [
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
	0, 1, 1, 1, 0, 1, 1, 1, 1, 0,
	0, 1, 0, 0, 0, 1, 0, 0, 0, 0,
	0, 1, 1, 1, 1, 1, 1, 1, 1, 0,
	0, 1, 0, 1, 0, 0, 0, 1, 1, 0,
	0, 1, 0, 1, 0, 1, 0, 0, 1, 0,
	0, 1, 1, 1, 1, 1, 1, 1, 1, 0,
	0, 1, 0, 0, 0, 0, 0, 1, 0, 0,
	0, 1, 1, 1, 0, 1, 1, 1, 1, 0,
	0, 0, 0, 0, 0, 0, 0, 0, 0, 0
];
    //0 == not passible object
    //1 is passible room or passway.
	
var tileW = 40, tileH = 40;
var mapW = 10, mapH = 10;
var currentSecond = 0, frameCount = 0, framesLastSecond = 0;

//handle load event of the game

window.onload = function()
{
	//assigening the drawing element to ctx
	ctx = document.getElementById('game').getContext("2d");
	//when it's ready to excute use drawGame function
	requestAnimationFrame(drawGame);
	ctx.font = "bold 10pt sans-serif";
};

function drawGame()
{
	//when initializing it check if ctx value is null. if it is leave the function.
	if(ctx==null) { return; }


		var sec = Math.floor(Date.now()/1000);
		
		
	//if current time is not what we are accounting for update it accordingly.
	if(sec!=currentSecond)
	{
		currentSecond = sec;
		framesLastSecond = frameCount;
		frameCount = 1;
	}
	//otherwise increament in the freameCount
	else { frameCount++; }
		
		//draw on the map loop trhough each raw from up and down
		for(var y = 0; y < mapH; ++y)
	{
		//then from left to right
		for(var x = 0; x < mapW; ++x)
		{
					//chooce what color to draw the map with
					switch(gameMap[((y*mapW)+x)])
			{
				//if present assigne the color blue
				case 0:
					ctx.fillStyle = "#000000";
					break;
					
				//if not wall make it a pathway
				default:
					ctx.fillStyle = "#ccffcc";
			}

			//draw a rectangle at the corresponding position
			ctx.fillRect( x*tileW, y*tileH, tileW, tileH);
			
				}
	}
	
	ctx.fillStyle = "#ff0000";
	//draw the current frame rate
	ctx.fillText("FPS: " + framesLastSecond, 10, 20);

	//when ready to draw again requst this function
	requestAnimationFrame(drawGame);
}






</script>

</head>
<body>

<canvas id="game" width="1000" height="1000"></canvas>

</body>
</html>
